exports.id=284,exports.ids=[284],exports.modules={124:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(687),o=r(5814),s=r.n(o),i=r(8561),a=r(2941),c=r(7582),d=r(4934),l=r(9821);function u(){let{items:e}=(0,c._)(),t=e.reduce((e,t)=>e+t.quantity,0);return(0,n.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,n.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsx)(s(),{href:"/",className:"flex items-center space-x-2",children:(0,n.jsx)("div",{className:"text-2xl font-bold text-primary",children:"Frese's Bakery"})}),(0,n.jsxs)("nav",{className:"hidden md:flex gap-6 items-center",children:[(0,n.jsx)(s(),{href:"/",className:"text-sm font-medium transition-colors hover:text-primary",children:"Home"}),(0,n.jsx)(s(),{href:"/order",children:(0,n.jsx)(d.$,{size:"sm",className:"font-medium",children:"Order Now"})}),(0,n.jsx)(s(),{href:"/catering",className:"text-sm font-medium transition-colors hover:text-primary",children:"Catering"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(s(),{href:"/cart",children:(0,n.jsxs)(d.$,{variant:"outline",size:"icon",className:"relative",children:[(0,n.jsx)(i.A,{className:"h-5 w-5"}),t>0&&(0,n.jsx)(l.E,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center",children:t})]})}),(0,n.jsx)(d.$,{variant:"ghost",size:"icon",className:"md:hidden",children:(0,n.jsx)(a.A,{className:"h-5 w-5"})})]})]})})}},2704:()=>{},3024:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},4934:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>c});var n=r(687),o=r(3210),s=r(8730),i=r(4224),a=r(6241);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef(({className:e,variant:t,size:r,asChild:o=!1,...i},d)=>{let l=o?s.DX:"button";return(0,n.jsx)(l,{className:(0,a.cn)(c({variant:t,size:r,className:e})),ref:d,...i})});d.displayName="Button"},6176:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},6241:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>a,cn:()=>s,qj:()=>l,r6:()=>d,vv:()=>i});var n=r(9384),o=r(2348);function s(...e){return(0,o.QP)((0,n.$)(e))}function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function a(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}function c(e){return("string"==typeof e?new Date(e):e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function d(e){return`${a(e)} at ${c(e)}`}function l(e,t){let r="string"==typeof e?new Date(e):e,n="string"==typeof t?new Date(t):t,o=r.toDateString()===n.toDateString(),s=e=>{let t=e.getDate(),r=["th","st","nd","rd"][t%10>3?0:t%100-t%10!=10?t%10:0];return e.toLocaleDateString("en-US",{month:"long",day:"numeric"}).replace(/\d+/,t+r)};return o?`${s(r)} ${c(r)} - ${c(n)}`:`${s(r)} ${c(r)} - ${s(n)} ${c(n)}`}},6754:(e,t,r)=>{Promise.resolve().then(r.bind(r,124)),Promise.resolve().then(r.bind(r,7582)),Promise.resolve().then(r.bind(r,2581))},7182:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/carterjsherman/Code/frese/frese_order_service-react/components/Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/carterjsherman/Code/frese/frese_order_service-react/components/Header.tsx","default")},7582:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>a,_:()=>c});var n=r(687),o=r(3210);function s(e){try{let t={productId:e.productId,price:e.price,product_size_id:e.product_size_id||null};if(e.selections&&Object.keys(e.selections).length>0){for(let[r,n]of(t.selections=[],Object.entries(e.selections)))t.selections.push(`${r}: ${n.value}`);t.selections.sort()}if(e.add_ons&&Object.keys(e.add_ons).length>0){for(let[r,n]of(t.add_ons=[],Object.entries(e.add_ons)))if(Array.isArray(n)){let e=r.split("-")[0];n.forEach(r=>{r.value&&t.add_ons.push(`${e}: ${r.value}`)})}t.add_ons.sort()}return JSON.stringify(t)}catch(t){return console.error("Error generating composite key:",t),JSON.stringify({productId:e.productId,product_size_id:e.product_size_id||null})}}r(9556);let i=(0,o.createContext)(void 0);function a({children:e}){let[t,r]=(0,o.useState)([]),[a,c]=(0,o.useState)(null),[d,l]=(0,o.useState)(!1),[u,f]=(0,o.useState)([]),h=(e,r)=>0===t.length||!e||e.type===r.type&&("special"!==e.type||"special"!==r.type||e.specialId===r.specialId),m=e=>{r(t=>{let r=t.filter((t,r)=>r!==e);return 0===r.length&&c(null),r})},p=e=>{let t=e.price;return e.selections&&Object.values(e.selections).forEach(e=>{e.cost&&(t+=e.cost)}),e.add_ons&&Object.values(e.add_ons).forEach(e=>{Array.isArray(e)&&e.forEach(e=>{e.cost&&(t+=e.cost)})}),t},v=e=>{let t=u.find(e=>"Bread"===e.name);return!t||e.typeId!==t.id},b=(0,o.useMemo)(()=>t.reduce((e,t)=>e+p(t)*t.quantity,0),[t]),y=(0,o.useMemo)(()=>{let e=0;for(let r of t)v(r)&&(e+=p(r)*r.quantity*.08);return Math.round(100*e)/100},[t,u]);return(0,n.jsx)(i.Provider,{value:{items:t,cartMode:a,addItem:(e,n)=>(console.log("[CartContext] addItem called:",{item:{productId:e.productId,product_name:e.product_name},mode:n,currentCartMode:a,currentItemsCount:t.length,modesMatch:h(a,n)}),h(a,n))?(a||(console.log("[CartContext] Setting cart mode:",n),c(n)),r(t=>{let r=function(e,t){let r=s(t);return e.findIndex(e=>s(e)===r)}(t,e);return r>=0?t.map((t,n)=>n===r?{...t,quantity:t.quantity+e.quantity}:t):[...t,e]}),!0):(console.warn("[CartContext] Mode conflict detected:",{cartMode:a,requestedMode:n}),!1),removeItem:m,updateQuantity:(e,t)=>{if(t<=0){m(e);return}r(r=>{let n=r.map((r,n)=>n===e?{...r,quantity:t}:r);return 0===n.length&&c(null),n})},clearCart:()=>{r([]),c(null),localStorage.removeItem("cart"),localStorage.removeItem("cartMode")},switchMode:(e,t)=>{r(t?[t]:[]),c(e)},subtotal:b,tax:y,total:b+y,isLoaded:d},children:e})}function c(){let e=(0,o.useContext)(i);if(!e)throw Error("useCart must be used within CartProvider");return e}},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>u});var n=r(7413),o=r(6389),s=r.n(o),i=r(1189),a=r.n(i);r(2704);var c=r(8106),d=r(6931),l=r(7182);let u={title:"Frese's Bakery - Fresh Baked Goods Daily",description:"Order fresh baked goods, fried chicken, and more from Frese's Bakery in Ravena, NY"};function f({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:`${s().variable} ${a().variable} antialiased`,children:(0,n.jsxs)(c.CartProvider,{children:[(0,n.jsx)(l.default,{}),(0,n.jsx)("main",{className:"min-h-screen",children:e}),(0,n.jsx)(d.Toaster,{richColors:!0,position:"top-center"})]})})})}},8106:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>o});var n=r(2907);let o=(0,n.registerClientReference)(function(){throw Error("Attempted to call CartProvider() from the server but CartProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/carterjsherman/Code/frese/frese_order_service-react/contexts/CartContext.tsx","CartProvider");(0,n.registerClientReference)(function(){throw Error("Attempted to call useCart() from the server but useCart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/carterjsherman/Code/frese/frese_order_service-react/contexts/CartContext.tsx","useCart")},8298:(e,t,r)=>{Promise.resolve().then(r.bind(r,7182)),Promise.resolve().then(r.bind(r,8106)),Promise.resolve().then(r.bind(r,6931))},9556:(e,t,r)=>{"use strict";r.d(t,{AP:()=>l,N8:()=>d,Nh:()=>s,f:()=>a,fM:()=>c,j0:()=>o,qP:()=>u,z8:()=>i});let n="https://frese-bakery-backend-app-504689514656.us-east1.run.app/api";async function o(){let e=await fetch(`${n}/activeProductsAndSizesIncludingSpecials`);if(!e.ok)throw Error("Failed to fetch products");return e.json()}async function s(){let e=await fetch(`${n}/products/types`);if(!e.ok)throw Error("Failed to fetch product types");return e.json()}async function i(){let e=await fetch(`${n}/activeSpecials?activeOnly=true`);if(!e.ok)throw Error("Failed to fetch specials");return e.json()}async function a(e){let t=await fetch(`${n}/stripe/intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:e})});if(!t.ok)throw Error((await t.json().catch(()=>({error:"Failed to create payment intent"}))).error||"Failed to create payment intent");let r=await t.json();return{clientSecret:r.client_secret||r.clientSecret,...r}}async function c(e,t){let r=await fetch(`${n}/processOrderAndPay`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:e,paymentIntentInfo:t})});if(!r.ok)throw Error((await r.json()).error||"Failed to process order");return r.json()}async function d(e=6){let t=await fetch(`${n}/orders/availableTimes/${e}`);if(!t.ok)throw Error("Failed to fetch regular timeslots");return t.json()}async function l(e){let t=await fetch(`${n}/orders/availableSpecialTimes/${e}`);if(!t.ok)throw Error("Failed to fetch special timeslots");return t.json()}async function u(e){let t=await fetch(`${n}/unsubscribe`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw Error("Failed to unsubscribe");return t.json()}},9821:(e,t,r)=>{"use strict";r.d(t,{E:()=>a});var n=r(687);r(3210);var o=r(4224),s=r(6241);let i=(0,o.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function a({className:e,variant:t,...r}){return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:t}),e),...r})}}};